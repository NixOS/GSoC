# Ideas

Welcome to our Google Summer of Code ideas list!

## small (90 hours)

### Refactor Remote Builder Library

Currently the remote builder code in the Nix daemon is implemented as a monolithic `processConnection` function, with customization limited to passing a custom store. This project aims to refactor this code into a separate library, making it easier to implement custom remote builders and improving code maintainability.

Skills required:
- C++ for Nix daemon internals
- Understanding of Nix store architecture
- Socket programming and SSH knowledge

References:
- https://nix.dev/manual/nix/stable/advanced-topics/distributed-builds.html
- https://github.com/NixOS/nix/issues/10451

Possible mentors:

### Patch CVE Reference Cleanup

Many patches in nixpkgs fix CVEs but don't properly reference the CVE identifiers. This project involves auditing existing patches, identifying those that fix CVEs, and ensuring they properly reference the relevant CVE numbers. This improves the security tracking capabilities of the [Nixpkgs Security Tracker](https://tracker.security.nixos.org/).

Skills required:
- Basic Nix and nixpkgs knowledge
- Research and documentation skills
- Understanding of CVE identification

References:
- https://tracker.security.nixos.org/
- https://vulnpatch.dev/

Prior efforts:
- https://github.com/NixOS/nixpkgs/issues/39392

Possible mentors:

### Package Wrapper Metadata in Nixpkgs

Some packages in nixpkgs are wrappers around existing packages, but this metadata is not consistently tracked. This project would add proper metadata to identify wrapper packages and ensure the `unwrapped` attribute is consistently applied, improving package discoverability and maintenance.

Skills required:
- Nixpkgs structure knowledge
- Package evaluation understanding
- Documentation skills

Refernces:
- https://github.com/NixOS/rfcs/pull/75

Possible mentors:

## medium (175 hours)

### Cross-Ecosystem Vendored Dependencies

Currently, retrieving vendored dependencies is ecosystem-specific. This project aims to create a unified mechanism for fetching vendored dependencies from any package, regardless of the ecosystem (Rust, Dart, Go, etc.). This would provide a consistent interface for handling vendored code across different language ecosystems.

Skills required:
- Advanced Nix internals knowledge
- Understanding of multiple ecosystems (Cargo, pub, Go modules, etc.)
- Fetcher implementation experience

References:
- https://nixos.org/manual/nixpkgs/stable/#importing-a-cargo.lock-file

Prior efforts:
- Existing work on fetchers in nixpkgs
- https://github.com/nix-community/dream2nix
- https://github.com/nix-community/crystal2nix

Possible mentors:

### Enhanced Patch Information Extraction

Improve the mechanisms for extracting and exposing information from patches in nixpkgs. This includes better metadata extraction, structured data output, and potentially machine-readable formats for downstream tooling integration.

Skills required:
- Nix expression evaluation
- JSON handling
- Metadata extraction patterns

Possible mentors:

### Modular Services in NixOS

Building on the modular services work in nixpkgs, this project aims to further improve and expand the modular services infrastructure. The goal is to make service definition more composable and easier to maintain, following the module system patterns already established in NixOS.

Skills required:
- Advanced NixOS module system knowledge
- systemd understanding
- Service composition patterns

References:
- https://github.com/NixOS/nixpkgs/pull/372170
- https://github.com/NixOS/nixpkgs/blob/master/nixos/README-modular-services.md

Prior efforts:
- Existing modular services implementation in nixpkgs

Possible mentors:

### NixOS Module Explicit Dependencies

Currently, NixOS module dependencies are often implicit through option usage. This project would implement a mechanism for modules to explicitly declare their dependency modules, improving module clarity and enabling better dependency analysis and optimization.

Skills required:
- Advanced NixOS internals
- Module system deep knowledge
- Dependency analysis

References:
- https://wiki.nixos.org/wiki/NixOS_modules

Possible mentors:

### Semantic Versioning for Nixpkgs

Currently, package versions in nixpkgs are tied to the flake input's revision, making it difficult to update individual packages independently. This project would explore mechanisms for proper semantic versioning support, allowing more flexible version management while maintaining reproducibility.

Skills required:
- Nix and flakes understanding
- Versioning concepts
- Dependency resolution

References:
- https://docs.determinate.systems/flakehub/concepts/semver/
- https://github.com/cafkafk/rime
- https://nixhub.io

Prior efforts:
- Various pinning approaches documented on NixOS Wiki

Possible mentors:

### Tracker Security Improvements

Improve the Nixpkgs Security Tracker with the following enhancements:
- Improve matching quality with more structured data and heuristics
- Implement workflow for change proposals by maintainers
- Enable sharing evaluation data across multiple services
- Increase data storage efficiency
- Fix UI problems
- Dig into data to increase transparency or observability
- Introduce new tools or paradigms into the development process

Skills required:
- Web development
- Data analysis
- User interface design
- Backend development

References:
- https://tracker.security.nixos.org/

Prior efforts:
- Existing security tracker infrastructure

Possible mentors:

### Testing and Enhancing Dynamic Derivations

Existing work on an experimental feature known as "dynamic derivations", which refers to derivation outputs that can themselves be derivations, lacks the adequate testing to be upstreamed. Moreover, functionality can be added to enable "lang2nix" tools to work more seamlessly. The goal is to thoroughly test this feature and add new functionalities such as methods for converting foreign packages to Nix using graphs for various package managers, creating conversion tools for Ninja and Make graphs (benefiting large builds like Chromium and LLVM), determining paths for upstream tools like CMake and Meson to integrate with Nix, and exploring modifications to language-specific package managers to utilize Nix for the actual building process.

Skills required:
- C++ for Nix internals
- Nix derivation understanding
- Build systems (Ninja, Make, CMake, Meson)
- Graph algorithms

References:
- https://github.com/NixOS/rfcs/blob/master/rfcs/0092-plan-dynamism.md
- https://github.com/NixOS/rfcs/pull/92
- https://github.com/NixOS/nix/issues/6316

Prior efforts:
- Existing dynamic derivations implementation in Nix

Possible mentors:

### SBOM Accuracy and PURL Integration for Nixpkgs

Software Bills of Materials (SBOMs) generated from nixpkgs packages often suffer from inaccurate package identifiers, making vulnerability scanning and supply chain analysis unreliable. This project aims to improve SBOM accuracy by adding proper PURL (Package URL) attributes to nixpkgs package metadata, ensuring consistent and accurate package identifier generation for SBOM output in multiple formats (SPDX, CycloneDX), and creating validation tools to verify SBOM accuracy. The project will integrate with existing tools and ensure compatibility with vulnerability scanners.

Skills required:
- Nix expression evaluation and metadata handling
- Understanding of PURL specification
- SBOM format knowledge (SPDX, CycloneDX)
- JSON/XML processing

References:
- https://github.com/package-url/purl-spec
- https://discourse.nixos.org/t/package-urls-purl-for-nix-packages/27934
- https://discourse.nixos.org/t/how-to-do-vulnerability-scanning-with-nix-sboms/66161
- https://arnout.engelen.eu/blog/nix-state-of-the-sbom/
- https://spdx.github.io/spdx-spec/v3.0.1/annexes/pkg-url-specification/

Prior efforts:
- https://github.com/nikstur/bombon (CycloneDX SBOMs for Nix)
- https://github.com/tiiuae/sbomnix (SBOM generation suite)
- https://github.com/louib/nix2sbom (CycloneDX and SPDX from derivations)
- https://github.com/tweag/genealogos (Nix SBOM generator)
- https://determinate.systems/blog/determinate-secure-packages

Possible mentors:

### Statix Nix Linter Improvements

Statix is a linter for the Nix programming language. This project aims to continue its development, adding new lints, improving existing ones, and potentially expanding its capabilities for detecting anti-patterns and suggesting improvements in Nix code.

Skills required:
- Rust or Haskell (Statix is written in Rust)
- Nix programming language expertise
- Compiler/linter development

References:
- https://github.com/nerdypepper/statix
- https://discourse.nixos.org/t/statix-lints-and-suggestions-for-the-nix-programming-language/15714
- https://discourse.nixos.org/t/list-of-nix-linters/19279

Prior efforts:
- https://github.com/molybdenumsoftware/statix

Possible mentors:

### Htnl Nix Website Library

Htnl is a Nix library for making websites. This project would involve continuing its development, adding new features, improving documentation, and expanding its capabilities for building web applications using Nix.

Skills required:
- Nix programming
- Web development (HTML, CSS, JavaScript)
- Library design

References:
- https://github.com/molybdenumsoftware/htnl

Possible mentors:

### Flake Multi-File Support

Currently, flakes are typically contained in a single file. This project would implement or improve support for splitting flake configurations into multiple files, making large flake configurations more maintainable and following established module system patterns.

Skills required:
- Advanced Nix and flakes knowledge
- Module system expertise
- Design patterns

References:
- https://discourse.nixos.org/t/flake-split-into-multiple-files-using-module-system/67612
- https://flake.parts/define-module-in-separate-file
- https://github.com/mightyiam/dendritic

Prior efforts:
- flake-parts module system
- dendritic project by mightyiam

Possible mentors:
